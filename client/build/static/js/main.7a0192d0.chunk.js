(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{47:function(e,t,a){e.exports=a(84)},83:function(e,t,a){},84:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(40),s=a.n(c),l=a(2),o=a(18),i=a(3),u=a(1),m=a.n(u),p=a(6),f=a(7),d=a.n(f),E=function(e){e?d.a.defaults.headers.common["x-auth-token"]=e:delete d.a.defaults.headers.common["x-auth-token"]},b=a(42),g=a.n(b),h=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:5e3;return function(n){var r=g.a.v4();n({type:"SET_ALERT",payload:{msg:e,alertType:t,id:r}}),setTimeout(function(){return n({type:"REMOVE_ALERT",payload:r})},a)}},v=function(){return function(){var e=Object(p.a)(m.a.mark(function e(t){var a;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return localStorage.token&&E(localStorage.token),e.prev=1,e.next=4,d.a.get("/api/auth");case 4:a=e.sent,t({type:"USER_LOADED",payload:a.data}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),t({type:"AUTH_ERROR"});case 11:case"end":return e.stop()}},e,null,[[1,8]])}));return function(t){return e.apply(this,arguments)}}()},y=Object(i.b)(function(e){return{auth:e.auth}},{logout:function(){return function(e){e({type:"CLEAR_PROFILE"}),e({type:"LOGOUT"})}}})(function(e){var t=e.auth,a=t.isAuthenticated,c=t.loading,s=e.logout,o=r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement(l.b,{to:"/profiles"},"Explore")),r.a.createElement("li",null,r.a.createElement(l.b,{to:"/posts"},"Posts")),r.a.createElement("li",null,r.a.createElement(l.b,{to:"/dashboard"},"Dashboard")),r.a.createElement("li",null,r.a.createElement("a",{onClick:s,href:"#!"},r.a.createElement("span",{className:"hide-sm"},"Logout")))),i=r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement(l.b,{to:"/profiles"},"Explore")),r.a.createElement("li",null,r.a.createElement(l.b,{to:"/register"},"Register")),r.a.createElement("li",null,r.a.createElement(l.b,{to:"/login"},"Login")));return r.a.createElement("nav",{className:"navbar"},r.a.createElement("h1",null,r.a.createElement(l.b,{to:"/"},"Fanusic")),!c&&r.a.createElement(n.Fragment,null,a?o:i))}),O=Object(i.b)(function(e){return{isAuthenticated:e.auth.isAuthenticated}})(function(e){return e.isAuthenticated?r.a.createElement(o.a,{to:"/dashboard"}):r.a.createElement("section",{className:"landing"},r.a.createElement("div",{className:"dark-overlay"},r.a.createElement("div",{className:"landing-inner"},r.a.createElement("h1",{className:"large"},"Fanusic"),r.a.createElement("p",{className:"lead"},"A platform for fans and music lovers. "),r.a.createElement("div",{className:"landing-btn"},r.a.createElement(l.b,{to:"/register",className:"btn btn-dark"},"Sign Up"),r.a.createElement(l.b,{to:"/login",className:"btn btn-dark"},"Sign In")))))}),N=a(15),x=a(4),k=a(12),R=Object(i.b)(function(e){return{isAuthenticated:e.auth.isAuthenticated}},{login:function(e,t){return function(){var a=Object(p.a)(m.a.mark(function a(n){var r,c,s,l;return m.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return r={headers:{"Content-Type":"application/json"}},c=JSON.stringify({email:e,password:t}),a.prev=2,a.next=5,d.a.post("/api/auth",c,r);case 5:s=a.sent,n({type:"LOGIN_SUCCESS",payload:s.data}),n(v()),a.next=15;break;case 10:a.prev=10,a.t0=a.catch(2),(l=a.t0.response.data.errors)&&l.forEach(function(e){return n(h(e.msg,"danger"))}),n({type:"LOGIN_FAIL"});case 15:case"end":return a.stop()}},a,null,[[2,10]])}));return function(e){return a.apply(this,arguments)}}()}})(function(e){var t=e.login,a=e.isAuthenticated,c=Object(n.useState)({email:"",password:""}),s=Object(k.a)(c,2),i=s[0],u=s[1],f=i.email,d=i.password,E=function(e){return u(Object(x.a)({},i,Object(N.a)({},e.target.name,e.target.value)))},b=function(){var e=Object(p.a)(m.a.mark(function e(a){return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:a.preventDefault(),t(f,d);case 2:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}();return a?r.a.createElement(o.a,{to:"/dashboard"}):r.a.createElement(n.Fragment,null,r.a.createElement("h1",{className:"large text-primary"},"Sign In"),r.a.createElement("p",{className:"lead"},"Sign In to your account"),r.a.createElement("form",{className:"form",onSubmit:function(e){return b(e)}},r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{className:"form-kboard",type:"email",placeholder:"Email Address",name:"email",value:f,onChange:function(e){return E(e)}})),r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{className:"form-kboard",type:"password",placeholder:"Password",name:"password",minLength:"6",value:d,onChange:function(e){return E(e)}})),r.a.createElement("input",{type:"submit",className:"btn btn-primary",value:"Login"})),r.a.createElement("p",{className:"my-1"},"Don't have an account? ",r.a.createElement(l.b,{to:"/register"},"Sign Up")))}),w=Object(i.b)(function(e){return{isAuthenticated:e.auth.isAuthenticated}},{setAlert:h,register:function(e){var t=e.name,a=e.email,n=e.password;return function(){var e=Object(p.a)(m.a.mark(function e(r){var c,s,l,o;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return c={headers:{"Content-Type":"application/json"}},s=JSON.stringify({name:t,email:a,password:n}),e.prev=2,e.next=5,d.a.post("/api/users",s,c);case 5:l=e.sent,r({type:"REGISTER_SUCCESS",payload:l.data}),r(v()),e.next=15;break;case 10:e.prev=10,e.t0=e.catch(2),(o=e.t0.response.data.errors)&&o.forEach(function(e){return r(h(e.msg,"danger"))}),r({type:"REGISTER_FAIL"});case 15:case"end":return e.stop()}},e,null,[[2,10]])}));return function(t){return e.apply(this,arguments)}}()}})(function(e){var t=e.setAlert,a=e.register,c=e.isAuthenticated,s=Object(n.useState)({name:"",email:"",password:"",password2:""}),i=Object(k.a)(s,2),u=i[0],f=i[1],d=u.name,E=u.email,b=u.password,g=u.password2,h=function(e){return f(Object(x.a)({},u,Object(N.a)({},e.target.name,e.target.value)))},v=function(){var e=Object(p.a)(m.a.mark(function e(n){return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n.preventDefault(),b!==g?t("Password do not match","danger",2e3):a({name:d,email:E,password:b});case 2:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}();return c?r.a.createElement(o.a,{to:"/dashboard"}):r.a.createElement(n.Fragment,null,r.a.createElement("h1",{className:"large text-primary"},"Sign Up"),r.a.createElement("p",{className:"lead"},"Create Account"),r.a.createElement("form",{className:"form",onSubmit:function(e){return v(e)}},r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{className:"form-kboard",type:"text",placeholder:"Name",name:"name",value:d,onChange:function(e){return h(e)},required:!0})),r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{className:"form-kboard",type:"email",placeholder:"Email Address",name:"email",value:E,onChange:function(e){return h(e)}})),r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{className:"form-kboard",type:"password",placeholder:"Password",name:"password",minLength:"6",value:b,onChange:function(e){return h(e)}})),r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{className:"form-kboard",type:"password",placeholder:"Confirm Password",name:"password2",minLength:"6",value:g,onChange:function(e){return h(e)}})),r.a.createElement("input",{type:"submit",className:"btn btn-primary",value:"Register"})),r.a.createElement("p",{className:"my-1"},"Already have an account? ",r.a.createElement(l.b,{to:"/login"},"Sign In")))}),j=Object(i.b)(function(e){return{alerts:e.alert}})(function(e){var t=e.alerts;return null!==t&&t.length>0&&t.map(function(e){return r.a.createElement("div",{key:e.id,className:"alert alert-".concat(e.alertType)},e.msg)})}),T=function(e){return function(){var t=Object(p.a)(m.a.mark(function t(a){var n;return m.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,d.a.get("/api/profile/artists?artists=".concat(e.toString()));case 3:n=t.sent,a({type:"GET_ARTISTS",payload:n.data}),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),a({type:"ARTIST_ERROR",payload:{msg:t.t0.response}});case 10:case"end":return t.stop()}},t,null,[[0,7]])}));return function(e){return t.apply(this,arguments)}}()},_=function(){return function(){var e=Object(p.a)(m.a.mark(function e(t){var a;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d.a.get("/api/profile/me");case 3:a=e.sent,t({type:"GET_PROFILE",payload:a.data}),t(T(a.data.artists)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),t({type:"PROFILE_ERROR",payload:{msg:e.t0.response.statusText,status:e.t0.response.status}});case 11:case"end":return e.stop()}},e,null,[[0,8]])}));return function(t){return e.apply(this,arguments)}}()},S=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return function(){var n=Object(p.a)(m.a.mark(function n(r){var c,s,l;return m.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,c={headers:{"Content-Type":"application/json"}},n.next=4,d.a.post("/api/profile",e,c);case 4:s=n.sent,r({type:"GET_PROFILE",payload:s.data}),r(T(s.data.artists)),r(h(a?"Profile Updated":"Profile Created","success")),a||t.push("./dashboard"),n.next=16;break;case 11:n.prev=11,n.t0=n.catch(0),(l=n.t0.response.data.errors)&&l.forEach(function(e){return r(h(e.msg,"danger"))}),r({type:"PROFILE_ERROR",payload:{msg:n.t0.response.statusText,status:n.t0.response.status}});case 16:case"end":return n.stop()}},n,null,[[0,11]])}));return function(e){return n.apply(this,arguments)}}()},P=function(){return r.a.createElement("div",{className:"dash-buttons"},r.a.createElement(l.b,{to:"/edit-profile",className:"btn btn-primary"},"Edit Profile"))},L=function(e){var t=e.album;return r.a.createElement("div",{className:"recommend"},r.a.createElement("a",{href:t.external_urls.spotify,target:"_blank",rel:"noopener noreferrer"},r.a.createElement("img",{src:t.images[0].url,alt:"",className:"round-img"})),r.a.createElement("div",null,r.a.createElement("h3",null,t.name),r.a.createElement("i",{className:"fas fa-music fa-1x"}),t.artists[0].name))},C=Object(i.b)(function(e){return{profile:e.profile,artist:e.artist}},null)(function(e){var t=e.artist,a=t.artists,n=t.loading,c=e.profile.profile;if(n||!a)return r.a.createElement("h1",null,"Loading...");if(c.artists){var s=a.urls,l=a.recommends,o=c.artists;return r.a.createElement("div",{className:"dashboard-artists"},r.a.createElement("h4",{className:"lead"},"My favorite Artists"),r.a.createElement("ul",null,o.map(function(e,t){return r.a.createElement("li",{key:t,className:"artist"},r.a.createElement("a",{href:s[t].spotify,target:"_blank",className:"btn btn-primary",rel:"noopener noreferrer"},r.a.createElement("i",{className:"fas fa-music fa-1x"}),e))})),r.a.createElement("h4",{className:"lead recommends-title"},"Recommended for you..."),r.a.createElement("div",{className:"recommends"},l.map(function(e,t){return r.a.createElement(L,{key:t,album:e.album})})))}return r.a.createElement("h1",null,"Loading...")}),A=Object(i.b)(function(e){return{auth:e.auth,profile:e.profile}},{getCurrentProfile:_,deleteAccount:function(){return function(){var e=Object(p.a)(m.a.mark(function e(t){return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!window.confirm("Are you sure? This can NOT be undone!")){e.next=12;break}return e.prev=1,e.next=4,d.a.delete("/api/profile");case 4:t({type:"CLEAR_PROFILE"}),t({type:"ACCOUNT_DELETED"}),t(h("Your account has been permanantly deleted")),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),t({type:"PROFILE_ERROR",payload:{msg:e.t0.response.statusText,status:e.t0.response.status}});case 12:case"end":return e.stop()}},e,null,[[1,9]])}));return function(t){return e.apply(this,arguments)}}()}})(function(e){var t=e.getCurrentProfile,a=e.deleteAccount,c=e.auth.user,s=e.profile,o=s.profile,i=s.loading;return Object(n.useEffect)(function(){t()},[t]),i&&null===o?r.a.createElement("div",null,"Loading..."):r.a.createElement(n.Fragment,null,r.a.createElement("h1",{className:"large text-primary"},"Dashboard"),r.a.createElement("p",{className:"lead"},"Welcome ",c&&c.name),o?r.a.createElement(n.Fragment,null,r.a.createElement(P,null),r.a.createElement(C,null),r.a.createElement("div",{className:"my-2"},r.a.createElement("button",{className:"btn btn-danger",onClick:function(){return a()}},"Delete My Account"))):r.a.createElement(n.Fragment,null,r.a.createElement("p",null,"You don't have a profile yet."),r.a.createElement(l.b,{to:"add-profile",className:"btn btn-primary"},"Create")))}),I=a(46),F=Object(i.b)(function(e){return{auth:e.auth}},null)(function(e){var t=e.component,a=e.auth,n=a.isAuthenticated,c=a.loading,s=Object(I.a)(e,["component","auth"]);return r.a.createElement(o.b,Object.assign({},s,{render:function(e){return n||c?r.a.createElement(t,e):r.a.createElement(o.a,{to:"/login"})}}))}),D=Object(i.b)(null,{addProfile:S})(Object(o.g)(function(e){var t=e.addProfile,a=e.history,c=Object(n.useState)({location:"",artists:"",bio:"",twitter:"",facebook:"",youtube:"",instagram:""}),s=Object(k.a)(c,2),o=s[0],i=s[1],u=o.location,m=o.artists,p=o.bio,f=o.twitter,d=o.facebook,E=o.youtube,b=o.instagram,g=function(e){return i(Object(x.a)({},o,Object(N.a)({},e.target.name,e.target.value)))};return r.a.createElement(n.Fragment,null,r.a.createElement("h1",{className:"large text-primary"},"Create Your Profile"),r.a.createElement("p",{className:"lead"},r.a.createElement("i",{className:"fas fa-user"})),r.a.createElement("small",null,"* = required field"),r.a.createElement("form",{className:"form",onSubmit:function(e){return function(e){e.preventDefault(),t(o,a)}(e)}},r.a.createElement("div",{className:"form-group"},"Location",r.a.createElement("input",{type:"text",placeholder:'Favorite artists, split with ","',name:"artists",value:u,onChange:function(e){return g(e)}})),r.a.createElement("div",{className:"form-group"},"Introduction",r.a.createElement("textarea",{placeholder:"Introduce yourself...",name:"bio",value:p,onChange:function(e){return g(e)}})),r.a.createElement("div",{className:"form-group"},"* Fav Artists",r.a.createElement("input",{type:"text",placeholder:'Favorite artists, split with ","',name:"artists",value:m,onChange:function(e){return g(e)}})),r.a.createElement("div",{className:"form-group social-input"},r.a.createElement("i",{className:"fab fa-twitter fa-2x"}),r.a.createElement("input",{type:"text",placeholder:"Twitter URL",name:"twitter",value:f,onChange:function(e){return g(e)}})),r.a.createElement("div",{className:"form-group social-input"},r.a.createElement("i",{className:"fab fa-facebook fa-2x"}),r.a.createElement("input",{type:"text",placeholder:"Facebook URL",name:"facebook",value:d,onChange:function(e){return g(e)}})),r.a.createElement("div",{className:"form-group social-input"},r.a.createElement("i",{className:"fab fa-youtube fa-2x"}),r.a.createElement("input",{type:"text",placeholder:"YouTube URL",name:"youtube",value:E,onChange:function(e){return g(e)}})),r.a.createElement("div",{className:"form-group social-input"},r.a.createElement("i",{className:"fab fa-instagram fa-2x"}),r.a.createElement("input",{type:"text",placeholder:"Instagram URL",name:"instagram",value:b,onChange:function(e){return g(e)}})),r.a.createElement("input",{type:"submit",className:"btn btn-primary"}),r.a.createElement(l.b,{to:"/dashboard",className:"btn btn-light"},"Go Back")))})),U=Object(i.b)(function(e){return{profile:e.profile}},{addProfile:S,getCurrentProfile:_})(Object(o.g)(function(e){var t=e.profile,a=t.profile,c=t.loading,s=e.addProfile,o=e.getCurrentProfile,i=e.history,u=Object(n.useState)({location:"",artists:"",bio:"",twitter:"",facebook:"",youtube:"",instagram:""}),m=Object(k.a)(u,2),p=m[0],f=m[1];Object(n.useEffect)(function(){o(),f({location:c||!a.location?"":a.location,artists:c||!a.artists?"":a.artists.join(","),bio:c||!a.bio?"":a.bio,twitter:c||!a.social?"":a.social.twitter,facebook:c||!a.social?"":a.social.facebook,youtube:c||!a.social?"":a.social.youtube,instagram:c||!a.social?"":a.social.instagram})},[o,c,a.location,a.artists,a.bio,a.social]);var d=p.location,E=p.artists,b=p.bio,g=p.twitter,h=p.facebook,v=p.youtube,y=p.instagram,O=function(e){return f(Object(x.a)({},p,Object(N.a)({},e.target.name,e.target.value)))};return r.a.createElement(n.Fragment,null,r.a.createElement("h1",{className:"large text-primary"},"Edit Your Profile"),r.a.createElement("p",{className:"lead"},r.a.createElement("i",{className:"fas fa-user"})),r.a.createElement("form",{className:"form",onSubmit:function(e){return function(e){e.preventDefault(),s(p,i,!0)}(e)}},r.a.createElement("div",{className:"form-group"},"Location",r.a.createElement("input",{type:"text",placeholder:"Location",name:"location",value:d||"",onChange:function(e){return O(e)}})),r.a.createElement("div",{className:"form-group"},"Introduction",r.a.createElement("textarea",{placeholder:"Introduce yourself...",name:"bio",value:b,onChange:function(e){return O(e)}})),r.a.createElement("div",{className:"form-group"},"Fav Artists",r.a.createElement("input",{type:"text",placeholder:'Favorite artists, split with ","',name:"artists",value:E||"",onChange:function(e){return O(e)}})),r.a.createElement("div",{className:"form-group social-input"},r.a.createElement("i",{className:"fab fa-twitter fa-2x"}),r.a.createElement("input",{type:"text",placeholder:"Twitter URL",name:"twitter",value:g||"",onChange:function(e){return O(e)}})),r.a.createElement("div",{className:"form-group social-input"},r.a.createElement("i",{className:"fab fa-facebook fa-2x"}),r.a.createElement("input",{type:"text",placeholder:"Facebook URL",name:"facebook",value:h||"",onChange:function(e){return O(e)}})),r.a.createElement("div",{className:"form-group social-input"},r.a.createElement("i",{className:"fab fa-youtube fa-2x"}),r.a.createElement("input",{type:"text",placeholder:"YouTube URL",name:"youtube",value:v||"",onChange:function(e){return O(e)}})),r.a.createElement("div",{className:"form-group social-input"},r.a.createElement("i",{className:"fab fa-instagram fa-2x"}),r.a.createElement("input",{type:"text",placeholder:"Instagram URL",name:"instagram",value:y||"",onChange:function(e){return O(e)}})),r.a.createElement("input",{type:"submit",className:"btn btn-primary"}),r.a.createElement(l.b,{to:"/dashboard",className:"btn btn-light"},"Go Back")))})),G=function(e){var t=e.profile,a=t.user,n=a._id,c=a.name,s=a.avatar,o=t.location,i=t.artists;return r.a.createElement("div",{className:"profile"},r.a.createElement(l.b,{to:"/profile/".concat(n)},r.a.createElement("img",{src:s,alt:"",className:"round-img"})),r.a.createElement("div",null,r.a.createElement("h2",null,c),r.a.createElement("p",{className:"my-1"},o&&r.a.createElement("span",null,o)),r.a.createElement(l.b,{to:"/profile/".concat(n),className:"btn btn-primary"},"View Profile")),r.a.createElement("ul",null,i.map(function(e,t){return r.a.createElement("li",{key:t,className:"artist"},r.a.createElement("i",{className:"fas fa-music fa-1x"})," ",e)})))},M=Object(i.b)(function(e){return{profile:e.profile}},{getProfiles:function(){return function(){var e=Object(p.a)(m.a.mark(function e(t){var a;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:"CLEAR_PROFILE"}),e.prev=1,e.next=4,d.a.get("/api/profile");case 4:a=e.sent,t({type:"GET_PROFILES",payload:a.data}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),t({type:"PROFILE_ERROR",payload:{msg:e.t0.response.statusText,status:e.t0.response.status}});case 11:case"end":return e.stop()}},e,null,[[1,8]])}));return function(t){return e.apply(this,arguments)}}()}})(function(e){var t=e.getProfiles,a=e.profile,c=a.profiles,s=a.loading;return Object(n.useEffect)(function(){t()},[t]),r.a.createElement(n.Fragment,null,s?r.a.createElement("h1",null,"Loading..."):r.a.createElement(n.Fragment,null,r.a.createElement("h1",{className:"large text-primary"},"Users"),r.a.createElement("p",{className:"lead"},"Connect with others"),r.a.createElement("div",{className:"profiles"},c.length>0?c.map(function(e,t){return r.a.createElement(G,{key:t,profile:e})}):r.a.createElement("h4",null," "))))}),Y=function(e){var t=e.profile,a=t.location,n=t.social,c=t.user,s=c.name,l=c.avatar;return r.a.createElement("div",{className:"bg-primary p-2"},r.a.createElement("img",{className:"round-img",src:l,alt:""}),r.a.createElement("h1",{className:"large"},s),r.a.createElement("p",null,a&&r.a.createElement("span",null,a)),r.a.createElement("div",{className:"icons my-1"},n&&n.twitter&&r.a.createElement("a",{href:n.twitter,target:"_blank",rel:"noopener noreferrer"},r.a.createElement("i",{className:"fab fa-twitter fa-lg"})),n&&n.facebook&&r.a.createElement("a",{href:n.facebook,target:"_blank",rel:"noopener noreferrer"},r.a.createElement("i",{className:"fab fa-facebook fa-lg"})),n&&n.youtube&&r.a.createElement("a",{href:n.youtube,target:"_blank",rel:"noopener noreferrer"},r.a.createElement("i",{className:"fab fa-youtube fa-lg"})),n&&n.instagram&&r.a.createElement("a",{href:n.instagram,target:"_blank",rel:"noopener noreferrer"},r.a.createElement("i",{className:"fas fa-camera fa-lg"}))))},B=function(e){var t=e.profile,a=t.bio,c=t.artists;return r.a.createElement("div",{className:"bg-primary p-2"},a&&r.a.createElement(n.Fragment,null,r.a.createElement("h2",{className:"text-primary"},"Bio"),r.a.createElement("p",null,a),r.a.createElement("div",{className:"line"})),r.a.createElement("h2",{className:"text-primary"},"Favorite Artists"),r.a.createElement("div",{className:"artists"},c.map(function(e,t){return r.a.createElement("div",{key:t,className:"p-1"},e)})))},q=Object(i.b)(function(e){return{profile:e.profile,auth:e.auth}},{getProfileById:function(e){return function(){var t=Object(p.a)(m.a.mark(function t(a){var n;return m.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a({type:"CLEAR_PROFILE"}),t.prev=1,t.next=4,d.a.get("/api/profile/user/".concat(e));case 4:n=t.sent,a({type:"GET_PROFILE",payload:n.data}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),a({type:"PROFILE_ERROR",payload:{msg:t.t0.response.statusText,status:t.t0.response.status}});case 11:case"end":return t.stop()}},t,null,[[1,8]])}));return function(e){return t.apply(this,arguments)}}()}})(function(e){var t=e.getProfileById,a=e.profile,c=a.profile,s=a.loading,o=e.auth,i=e.match;return Object(n.useEffect)(function(){t(i.params.id)},[t,i.params.id]),r.a.createElement(n.Fragment,null,s||!c?r.a.createElement("h1",null,"Loading..."):r.a.createElement(n.Fragment,null,r.a.createElement(l.b,{to:"/profiles",className:"btn btn-primary btn-back"},"Back To Profiles"),o.isAuthenticated&&!1===o.loading&&o.user._id===c.user._id&&r.a.createElement(l.b,{to:"/edit-profile",className:"btn btn-dark"},"Edit Profile"),r.a.createElement("div",{className:"profile-details my-1"},r.a.createElement(Y,{profile:c}),r.a.createElement(B,{profile:c}))))}),J=a(22),K=a.n(J),V=function(e){var t=e.addLike,a=e.removeLike,c=e.deletePost,s=e.auth,o=e.post,i=o._id,u=o.text,m=o.name,p=o.avatar,f=o.user,d=o.likes,E=o.comments,b=o.date,g=e.showActions;return r.a.createElement("div",{className:"post bg-white p-1 my-1"},r.a.createElement(l.b,{to:"/profile/".concat(f)},r.a.createElement("img",{src:p,alt:"",className:"round-img"}),r.a.createElement("h4",null,m)),r.a.createElement("div",null,r.a.createElement("p",{className:"my-1"},u),r.a.createElement("p",{className:"post-date"},r.a.createElement(K.a,{format:"YYYY-MM-DD"},b)),g&&r.a.createElement(n.Fragment,null,r.a.createElement("button",{type:"button",className:"btn btn-light",onClick:function(e){return t(i)}},r.a.createElement("i",{className:"fas fa-thumbs-up"})," ",r.a.createElement("span",null,d.length>0&&r.a.createElement("span",null,d.length))),r.a.createElement("button",{type:"button",className:"btn btn-light",onClick:function(e){return a(i)}},r.a.createElement("i",{className:"fas fa-thumbs-down"})),r.a.createElement(l.b,{to:"/post/".concat(i),className:"btn btn-primary"},"Discussion"," ",E.length>0&&r.a.createElement("span",{className:"comment-count"},E.length)),!s.loading&&f===s.user._id&&r.a.createElement("button",{type:"button",className:"btn btn-danger",onClick:function(e){return c(i)}},r.a.createElement("i",{className:"fas fa-times"}),"X"))))};V.defaultProps={showActions:!0};var H=Object(i.b)(function(e){return{auth:e.auth}},{addLike:function(e){return function(){var t=Object(p.a)(m.a.mark(function t(a){var n;return m.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,d.a.put("/api/posts/like/".concat(e));case 3:n=t.sent,a({type:"UPDATE_LIKES",payload:{id:e,likes:n.data}}),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),a({type:"POST_ERROR",payload:{msg:t.t0.response.statusText,status:t.t0.response.status}});case 10:case"end":return t.stop()}},t,null,[[0,7]])}));return function(e){return t.apply(this,arguments)}}()},removeLike:function(e){return function(){var t=Object(p.a)(m.a.mark(function t(a){var n;return m.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,d.a.delete("/api/posts/unlike/".concat(e));case 3:n=t.sent,a({type:"UPDATE_LIKES",payload:{id:e,likes:n.data}}),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),a({type:"POST_ERROR",payload:{msg:t.t0.response.statusText,status:t.t0.response.status}});case 10:case"end":return t.stop()}},t,null,[[0,7]])}));return function(e){return t.apply(this,arguments)}}()},deletePost:function(e){return function(){var t=Object(p.a)(m.a.mark(function t(a){return m.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,d.a.delete("/api/posts/".concat(e));case 3:a({type:"DELETE_POST",payload:e}),a(h("Post Deleted.","success")),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),a({type:"POST_ERROR",payload:{msg:t.t0.response.statusText,status:t.t0.response.status}});case 10:case"end":return t.stop()}},t,null,[[0,7]])}));return function(e){return t.apply(this,arguments)}}()}})(V),W=Object(i.b)(null,{addPost:function(e){return function(){var t=Object(p.a)(m.a.mark(function t(a){var n,r;return m.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n={headers:{"Content-Type":"application/json"}},t.prev=1,t.next=4,d.a.post("/api/posts/",e,n);case 4:r=t.sent,a({type:"ADD_POST",payload:r.data}),a(h("Post created.","success")),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(1),a({type:"POST_ERROR",payload:{msg:t.t0.response.statusText,status:t.t0.response.status}});case 12:case"end":return t.stop()}},t,null,[[1,9]])}));return function(e){return t.apply(this,arguments)}}()}})(function(e){var t=e.addPost,a=Object(n.useState)(""),c=Object(k.a)(a,2),s=c[0],l=c[1];return r.a.createElement("div",{className:"post-form"},r.a.createElement("div",{className:"bg-primary p"},r.a.createElement("h3",null,"Post goes below")),r.a.createElement("form",{className:"form my-1",onSubmit:function(e){e.preventDefault(),t({text:s}),l("")}},r.a.createElement("textarea",{name:"text",cols:"30",rows:"5",placeholder:"Say something...",value:s,onChange:function(e){return l(e.target.value)},required:!0}),r.a.createElement("input",{type:"submit",className:"btn btn-dark my-1",value:"submit"})))}),X=Object(i.b)(function(e){return{post:e.post}},{getPosts:function(){return function(){var e=Object(p.a)(m.a.mark(function e(t){var a;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d.a.get("/api/posts");case 3:a=e.sent,t({type:"GET_POSTS",payload:a.data}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),t({type:"POST_ERROR",payload:{msg:e.t0.response.statusText,status:e.t0.response.status}});case 10:case"end":return e.stop()}},e,null,[[0,7]])}));return function(t){return e.apply(this,arguments)}}()}})(function(e){var t=e.getPosts,a=e.post,c=a.posts,s=a.loading;return Object(n.useEffect)(function(){t()},[t]),s||!c?r.a.createElement("h1",null,"Loading..."):r.a.createElement(n.Fragment,null,r.a.createElement("h1",{className:"large text-primary"},"Posts"),r.a.createElement(W,null),r.a.createElement("div",{className:"posts"},c.map(function(e){return r.a.createElement(H,{key:e._id,post:e})})))}),z=Object(i.b)(null,{addComment:function(e,t){return function(){var a=Object(p.a)(m.a.mark(function a(n){var r,c;return m.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return r={headers:{"Content-Type":"application/json"}},a.prev=1,a.next=4,d.a.post("/api/posts/comment/".concat(e),t,r);case 4:c=a.sent,n({type:"ADD_COMMENT",payload:c.data}),n(h("Comment added.","success")),a.next=12;break;case 9:a.prev=9,a.t0=a.catch(1),n({type:"POST_ERROR",payload:{msg:a.t0.response.statusText,status:a.t0.response.status}});case 12:case"end":return a.stop()}},a,null,[[1,9]])}));return function(e){return a.apply(this,arguments)}}()}})(function(e){var t=e.postId,a=e.addComment,c=Object(n.useState)(""),s=Object(k.a)(c,2),l=s[0],o=s[1];return r.a.createElement("div",{className:"post-form"},r.a.createElement("div",{className:"bg-primary p"},r.a.createElement("h3",null,"Leave a comment")),r.a.createElement("form",{className:"form my-1",onSubmit:function(e){e.preventDefault(),a(t,{text:l}),o("")}},r.a.createElement("textarea",{name:"text",cols:"30",rows:"5",placeholder:"Say something...",value:l,onChange:function(e){return o(e.target.value)},required:!0}),r.a.createElement("input",{type:"submit",className:"btn btn-dark my-1",value:"submit"})))}),Q=Object(i.b)(function(e){return{auth:e.auth}},{deleteComment:function(e,t){return function(){var a=Object(p.a)(m.a.mark(function a(n){return m.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,d.a.delete("/api/posts/comment/".concat(e,"/").concat(t));case 3:n({type:"DELETE_COMMENT",payload:t}),n(h("Comment deleted.","success")),a.next=10;break;case 7:a.prev=7,a.t0=a.catch(0),n({type:"POST_ERROR",payload:{msg:a.t0.response.statusText,status:a.t0.response.status}});case 10:case"end":return a.stop()}},a,null,[[0,7]])}));return function(e){return a.apply(this,arguments)}}()}})(function(e){var t=e.postId,a=e.comment,n=a._id,c=a.text,s=a.name,o=a.avatar,i=a.user,u=a.date,m=e.auth,p=e.deleteComment;return r.a.createElement("div",{className:"post bg-white p-1 my-1"},r.a.createElement("div",null,r.a.createElement(l.b,{to:"/profile/".concat(i)},r.a.createElement("img",{src:o,alt:"",className:"round-img"}),r.a.createElement("h4",null,s))),r.a.createElement("p",{className:"my-1"},c),r.a.createElement("p",{className:"post-date"},r.a.createElement(K.a,{format:"YYYY-MM-DD"},u)),!m.loading&&i===m.user._id&&r.a.createElement("button",{className:"btn btn-danger",type:"button",onClick:function(e){return p(t,n)}},"X"))}),Z=Object(i.b)(function(e){return{post:e.post}},{getPost:function(e){return function(){var t=Object(p.a)(m.a.mark(function t(a){var n;return m.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,d.a.get("/api/posts/".concat(e));case 3:n=t.sent,a({type:"GET_POST",payload:n.data}),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),a({type:"POST_ERROR",payload:{msg:t.t0.response.statusText,status:t.t0.response.status}});case 10:case"end":return t.stop()}},t,null,[[0,7]])}));return function(e){return t.apply(this,arguments)}}()}})(function(e){var t=e.getPost,a=e.post,c=a.post,s=a.loading,o=e.match;return Object(n.useEffect)(function(){t(o.params.id)},[t,o.params.id]),s||null===c?r.a.createElement("h1",null,"Loading..."):r.a.createElement(n.Fragment,null,r.a.createElement(l.b,{to:"/posts",className:"btn"},"Back To Posts"),r.a.createElement(H,{post:c,showActions:!1}),r.a.createElement(z,{postId:c._id}),r.a.createElement("div",{className:"comments"},c.comments.map(function(e){return r.a.createElement(Q,{key:e._id,comment:e,postId:c._id})})))}),$=a(17),ee=a(44),te=a(45),ae=a(23),ne=[],re={token:localStorage.getItem("token"),isAuthenticated:null,loading:!0,user:null},ce={profile:null,profiles:[],loading:!0,error:{}},se={posts:[],post:null,loading:!0,error:{}},le={artists:[],loading:!0,error:{}},oe=Object($.combineReducers)({alert:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ne,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case"SET_ALERT":return[].concat(Object(ae.a)(e),[n]);case"REMOVE_ALERT":return e.filter(function(e){return e.id!==n});default:return e}},auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:re,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case"USER_LOADED":return Object(x.a)({},e,{isAuthenticated:!0,loading:!1,user:n});case"REGISTER_SUCCESS":case"LOGIN_SUCCESS":return localStorage.setItem("token",n.token),Object(x.a)({},e,n,{isAuthenticated:!0,loading:!1});case"REGISTER_FAIL":case"AUTH_ERROR":case"LOGIN_FAIL":case"LOGOUT":case"ACCOUNT_DELETED":return localStorage.removeItem("token"),Object(x.a)({},e,{token:null,isAuthenticated:!1,loading:!1});default:return e}},profile:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ce,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case"GET_PROFILE":case"UPDATE_PROFILE":return Object(x.a)({},e,{profile:n,loading:!1});case"GET_PROFILES":return Object(x.a)({},e,{profiles:n,loading:!1});case"PROFILE_ERROR":return Object(x.a)({},e,{error:n,loading:!1});case"CLEAR_PROFILE":return Object(x.a)({},e,{profile:null,repos:[],loading:!1});default:return e}},post:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:se,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case"GET_POSTS":return Object(x.a)({},e,{posts:n,loading:!1});case"GET_POST":return Object(x.a)({},e,{post:n,loading:!1});case"ADD_POST":return Object(x.a)({},e,{posts:[n].concat(Object(ae.a)(e.posts))});case"DELETE_POST":return Object(x.a)({},e,{posts:e.posts.filter(function(e){return e._id!==n}),loading:!1});case"UPDATE_LIKES":return Object(x.a)({},e,{posts:e.posts.map(function(e){return e._id===n.id?Object(x.a)({},e,{likes:n.likes}):e}),loading:!1});case"ADD_COMMENT":return Object(x.a)({},e,{post:Object(x.a)({},e.post,{comments:n}),loading:!1});case"DELETE_COMMENT":return Object(x.a)({},e,{post:Object(x.a)({},e.post,{comments:e.post.comments.filter(function(e){return e._id!==n})}),loading:!1});case"POST_ERROR":return Object(x.a)({},e,{error:n,loading:!1});default:return e}},artist:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:le,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case"GET_ARTISTS":return Object(x.a)({},e,{artists:n,loading:!1});case"ARTIST_ERROR":return Object(x.a)({},e,{error:n,loading:!1});default:return e}}}),ie=[te.a],ue=Object($.createStore)(oe,{},Object(ee.composeWithDevTools)($.applyMiddleware.apply(void 0,ie)));a(83);localStorage.token&&E(localStorage.token);var me=function(){return Object(n.useEffect)(function(){ue.dispatch(v())},[]),r.a.createElement(i.a,{store:ue},r.a.createElement(l.a,null,r.a.createElement(n.Fragment,null,r.a.createElement(y,null),r.a.createElement(o.b,{exact:!0,path:"/",component:O}),r.a.createElement("section",{className:"container"},r.a.createElement(j,null),r.a.createElement(o.d,null,r.a.createElement(o.b,{exact:!0,path:"/register",component:w}),r.a.createElement(o.b,{exact:!0,path:"/login",component:R}),r.a.createElement(o.b,{exact:!0,path:"/profiles",component:M}),r.a.createElement(o.b,{exact:!0,path:"/profile/:id",component:q}),r.a.createElement(F,{exact:!0,path:"/dashboard",component:A}),r.a.createElement(F,{exact:!0,path:"/add-profile",component:D}),r.a.createElement(F,{exact:!0,path:"/edit-profile",component:U}),r.a.createElement(F,{exact:!0,path:"/posts",component:X}),r.a.createElement(F,{exact:!0,path:"/post/:id",component:Z}))))))};s.a.render(r.a.createElement(me,null),document.getElementById("root"))}},[[47,1,2]]]);
//# sourceMappingURL=main.7a0192d0.chunk.js.map